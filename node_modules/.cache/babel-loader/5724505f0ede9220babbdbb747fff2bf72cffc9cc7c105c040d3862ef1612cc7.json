{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport $ from 'jquery';\nvar gl;\nvar $window = $(window); // There is only one window, so why not cache the jQuery-wrapped window?\n\nfunction isPercentage(str) {\n  return str[str.length - 1] == '%';\n}\n\n/**\n *  Load a configuration of GL settings which the browser supports.\n *  For example:\n *  - not all browsers support WebGL\n *  - not all browsers support floating point textures\n *  - not all browsers support linear filtering for floating point textures\n *  - not all browsers support rendering to floating point textures\n *  - some browsers *do* support rendering to half-floating point textures instead.\n */\nfunction loadConfig() {\n  var canvas = document.createElement('canvas');\n  gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n  if (!gl) {\n    // Browser does not support WebGL.\n    return null;\n  }\n\n  // Load extensions\n  var extensions = {};\n  ['OES_texture_float', 'OES_texture_half_float', 'OES_texture_float_linear', 'OES_texture_half_float_linear'].forEach(function (name) {\n    var extension = gl.getExtension(name);\n    if (extension) {\n      extensions[name] = extension;\n    }\n  });\n\n  // If no floating point extensions are supported we can bail out early.\n  if (!extensions.OES_texture_float) {\n    return null;\n  }\n  var configs = [];\n  function createConfig(type, glType, arrayType) {\n    var name = 'OES_texture_' + type,\n      nameLinear = name + '_linear',\n      linearSupport = (nameLinear in extensions),\n      configExtensions = [name];\n    if (linearSupport) {\n      configExtensions.push(nameLinear);\n    }\n    return {\n      type: glType,\n      arrayType: arrayType,\n      linearSupport: linearSupport,\n      extensions: configExtensions\n    };\n  }\n  configs.push(createConfig('float', gl.FLOAT, Float32Array));\n  if (extensions.OES_texture_half_float) {\n    configs.push(\n    // Array type should be Uint16Array, but at least on iOS that breaks. In that case we\n    // just initialize the textures with data=null, instead of data=new Uint16Array(...).\n    // This makes initialization a tad slower, but it's still negligible.\n    createConfig('half_float', extensions.OES_texture_half_float.HALF_FLOAT_OES, null));\n  }\n\n  // Setup the texture and framebuffer\n  var texture = gl.createTexture();\n  var framebuffer = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n  // Check for each supported texture type if rendering to it is supported\n  var config = null;\n  for (var i = 0; i < configs.length; i++) {\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 32, 32, 0, gl.RGBA, configs[i].type, null);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\n      config = configs[i];\n      break;\n    }\n  }\n  return config;\n}\nfunction createImageData(width, height) {\n  try {\n    return new ImageData(width, height);\n  } catch (e) {\n    // Fallback for IE\n    var canvas = document.createElement('canvas');\n    return canvas.getContext('2d').createImageData(width, height);\n  }\n}\nfunction translateBackgroundPosition(value) {\n  var parts = value.split(' ');\n  if (parts.length === 1) {\n    switch (value) {\n      case 'center':\n        return ['50%', '50%'];\n      case 'top':\n        return ['50%', '0'];\n      case 'bottom':\n        return ['50%', '100%'];\n      case 'left':\n        return ['0', '50%'];\n      case 'right':\n        return ['100%', '50%'];\n      default:\n        return [value, '50%'];\n    }\n  } else {\n    return parts.map(function (part) {\n      switch (value) {\n        case 'center':\n          return '50%';\n        case 'top':\n        case 'left':\n          return '0';\n        case 'right':\n        case 'bottom':\n          return '100%';\n        default:\n          return part;\n      }\n    });\n  }\n}\nfunction createProgram(vertexSource, fragmentSource, uniformValues) {\n  _s();\n  function compileSource(type, source) {\n    var shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      throw new Error('compile error: ' + gl.getShaderInfoLog(shader));\n    }\n    return shader;\n  }\n  var program = {};\n  program.id = gl.createProgram();\n  gl.attachShader(program.id, compileSource(gl.VERTEX_SHADER, vertexSource));\n  gl.attachShader(program.id, compileSource(gl.FRAGMENT_SHADER, fragmentSource));\n  gl.linkProgram(program.id);\n  if (!gl.getProgramParameter(program.id, gl.LINK_STATUS)) {\n    throw new Error('link error: ' + gl.getProgramInfoLog(program.id));\n  }\n\n  // Fetch the uniform and attribute locations\n  program.uniforms = {};\n  program.locations = {};\n  gl.useProgram(program.id);\n  gl.enableVertexAttribArray(0);\n  var match,\n    name,\n    regex = /uniform (\\w+) (\\w+)/g,\n    shaderCode = vertexSource + fragmentSource;\n  while ((match = regex.exec(shaderCode)) != null) {\n    name = match[2];\n    program.locations[name] = gl.getUniformLocation(program.id, name);\n  }\n  return program;\n}\n_s(createProgram, \"ZdQBZ3rq7bWAAMQq6hlVCmYF0jM=\", false, function () {\n  return [gl.useProgram];\n});\nfunction bindTexture(texture, unit) {\n  gl.activeTexture(gl.TEXTURE0 + (unit || 0));\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n}\nfunction extractUrl(value) {\n  var urlMatch = /url\\([\"']?([^\"']*)[\"']?\\)/.exec(value);\n  if (urlMatch == null) {\n    return null;\n  }\n  return urlMatch[1];\n}\nfunction isDataUri(url) {\n  return url.match(/^data:/);\n}\nvar config = loadConfig();\nvar transparentPixels = createImageData(32, 32);\n\n// Extend the css\n$('head').prepend('<style>.jquery-ripples { position: relative; z-index: 0; }</style>');\n\n// RIPPLES CLASS DEFINITION\n// =========================\n\nvar Ripples = function (el, options) {\n  var that = this;\n  this.$el = $(el);\n\n  // Init properties from options\n  this.interactive = options.interactive;\n  this.resolution = options.resolution;\n  this.textureDelta = new Float32Array([1 / this.resolution, 1 / this.resolution]);\n  this.perturbance = options.perturbance;\n  this.dropRadius = options.dropRadius;\n  this.crossOrigin = options.crossOrigin;\n  this.imageUrl = options.imageUrl;\n\n  // Init WebGL canvas\n  var canvas = document.createElement('canvas');\n  canvas.width = this.$el.innerWidth();\n  canvas.height = this.$el.innerHeight();\n  this.canvas = canvas;\n  this.$canvas = $(canvas);\n  this.$canvas.css({\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: -1\n  });\n  this.$el.addClass('jquery-ripples').append(canvas);\n  this.context = gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n  // Load extensions\n  config.extensions.forEach(function (name) {\n    gl.getExtension(name);\n  });\n\n  // Auto-resize when window size changes.\n  this.updateSize = this.updateSize.bind(this);\n  $(window).on('resize', this.updateSize);\n\n  // Init rendertargets for ripple data.\n  this.textures = [];\n  this.framebuffers = [];\n  this.bufferWriteIndex = 0;\n  this.bufferReadIndex = 1;\n  var arrayType = config.arrayType;\n  var textureData = arrayType ? new arrayType(this.resolution * this.resolution * 4) : null;\n  for (var i = 0; i < 2; i++) {\n    var texture = gl.createTexture();\n    var framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.resolution, this.resolution, 0, gl.RGBA, config.type, textureData);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.textures.push(texture);\n    this.framebuffers.push(framebuffer);\n  }\n\n  // Init GL stuff\n  this.quad = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, +1, -1, +1, +1, -1, +1]), gl.STATIC_DRAW);\n  this.initShaders();\n  this.initTexture();\n  this.setTransparentTexture();\n\n  // Load the image either from the options or CSS rules\n  this.loadImage();\n\n  // Set correct clear color and blend mode (regular alpha blending)\n  gl.clearColor(0, 0, 0, 0);\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n  // Plugin is successfully initialized!\n  this.visible = true;\n  this.running = true;\n  this.inited = true;\n  this.destroyed = false;\n  this.setupPointerEvents();\n\n  // Init animation\n  function step() {\n    if (!that.destroyed) {\n      that.step();\n      requestAnimationFrame(step);\n    }\n  }\n  requestAnimationFrame(step);\n};\n_c = Ripples;\nRipples.DEFAULTS = {\n  imageUrl: null,\n  resolution: 256,\n  dropRadius: 20,\n  perturbance: 0.03,\n  interactive: true,\n  crossOrigin: ''\n};\nRipples.prototype = {\n  // Set up pointer (mouse + touch) events\n  setupPointerEvents: function () {\n    var that = this;\n    function pointerEventsEnabled() {\n      return that.visible && that.running && that.interactive;\n    }\n    function dropAtPointer(pointer, big) {\n      if (pointerEventsEnabled()) {\n        that.dropAtPointer(pointer, that.dropRadius * (big ? 1.5 : 1), big ? 0.14 : 0.01);\n      }\n    }\n\n    // Start listening to pointer events\n    this.$el\n\n    // Create regular, small ripples for mouse move and touch events...\n    .on('mousemove.ripples', function (e) {\n      dropAtPointer(e);\n    }).on('touchmove.ripples touchstart.ripples', function (e) {\n      var touches = e.originalEvent.changedTouches;\n      for (var i = 0; i < touches.length; i++) {\n        dropAtPointer(touches[i]);\n      }\n    })\n\n    // ...and only a big ripple on mouse down events.\n    .on('mousedown.ripples', function (e) {\n      dropAtPointer(e, true);\n    });\n  },\n  // Load the image either from the options or the element's CSS rules.\n  loadImage: function () {\n    var that = this;\n    gl = this.context;\n    var newImageSource = this.imageUrl || extractUrl(this.originalCssBackgroundImage) || extractUrl(this.$el.css('backgroundImage'));\n\n    // If image source is unchanged, don't reload it.\n    if (newImageSource == this.imageSource) {\n      return;\n    }\n    this.imageSource = newImageSource;\n\n    // Falsy source means no background.\n    if (!this.imageSource) {\n      this.setTransparentTexture();\n      return;\n    }\n\n    // Load the texture from a new image.\n    var image = new Image();\n    image.onload = function () {\n      gl = that.context;\n\n      // Only textures with dimensions of powers of two can have repeat wrapping.\n      function isPowerOfTwo(x) {\n        return (x & x - 1) == 0;\n      }\n      var wrapping = isPowerOfTwo(image.width) && isPowerOfTwo(image.height) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\n      gl.bindTexture(gl.TEXTURE_2D, that.backgroundTexture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapping);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapping);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n      that.backgroundWidth = image.width;\n      that.backgroundHeight = image.height;\n\n      // Hide the background that we're replacing.\n      that.hideCssBackground();\n    };\n\n    // Fall back to a transparent texture when loading the image failed.\n    image.onerror = function () {\n      gl = that.context;\n      that.setTransparentTexture();\n    };\n\n    // Disable CORS when the image source is a data URI.\n    image.crossOrigin = isDataUri(this.imageSource) ? null : this.crossOrigin;\n    image.src = this.imageSource;\n  },\n  step: function () {\n    gl = this.context;\n    if (!this.visible) {\n      return;\n    }\n    this.computeTextureBoundaries();\n    if (this.running) {\n      this.update();\n    }\n    this.render();\n  },\n  drawQuad: function () {\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n    gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n    gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\n  },\n  render: _s2(function () {\n    _s2();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n    gl.enable(gl.BLEND);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    gl.useProgram(this.renderProgram.id);\n    bindTexture(this.backgroundTexture, 0);\n    bindTexture(this.textures[0], 1);\n    gl.uniform1f(this.renderProgram.locations.perturbance, this.perturbance);\n    gl.uniform2fv(this.renderProgram.locations.topLeft, this.renderProgram.uniforms.topLeft);\n    gl.uniform2fv(this.renderProgram.locations.bottomRight, this.renderProgram.uniforms.bottomRight);\n    gl.uniform2fv(this.renderProgram.locations.containerRatio, this.renderProgram.uniforms.containerRatio);\n    gl.uniform1i(this.renderProgram.locations.samplerBackground, 0);\n    gl.uniform1i(this.renderProgram.locations.samplerRipples, 1);\n    this.drawQuad();\n    gl.disable(gl.BLEND);\n  }, \"ZdQBZ3rq7bWAAMQq6hlVCmYF0jM=\", false, function () {\n    return [gl.useProgram];\n  }),\n  update: _s3(function () {\n    _s3();\n    gl.viewport(0, 0, this.resolution, this.resolution);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n    bindTexture(this.textures[this.bufferReadIndex]);\n    gl.useProgram(this.updateProgram.id);\n    this.drawQuad();\n    this.swapBufferIndices();\n  }, \"ZdQBZ3rq7bWAAMQq6hlVCmYF0jM=\", false, function () {\n    return [gl.useProgram];\n  }),\n  swapBufferIndices: function () {\n    this.bufferWriteIndex = 1 - this.bufferWriteIndex;\n    this.bufferReadIndex = 1 - this.bufferReadIndex;\n  },\n  computeTextureBoundaries: function () {\n    var backgroundSize = this.$el.css('background-size');\n    var backgroundAttachment = this.$el.css('background-attachment');\n    var backgroundPosition = translateBackgroundPosition(this.$el.css('background-position'));\n\n    // Here the 'container' is the element which the background adapts to\n    // (either the chrome window or some element, depending on attachment)\n    var container;\n    if (backgroundAttachment == 'fixed') {\n      container = {\n        left: window.pageXOffset,\n        top: window.pageYOffset\n      };\n      container.width = $window.width();\n      container.height = $window.height();\n    } else {\n      container = this.$el.offset();\n      container.width = this.$el.innerWidth();\n      container.height = this.$el.innerHeight();\n    }\n\n    // TODO: background-clip\n    if (backgroundSize == 'cover') {\n      var scale = Math.max(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n      var backgroundWidth = this.backgroundWidth * scale;\n      var backgroundHeight = this.backgroundHeight * scale;\n    } else if (backgroundSize == 'contain') {\n      var scale = Math.min(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n      var backgroundWidth = this.backgroundWidth * scale;\n      var backgroundHeight = this.backgroundHeight * scale;\n    } else {\n      backgroundSize = backgroundSize.split(' ');\n      var backgroundWidth = backgroundSize[0] || '';\n      var backgroundHeight = backgroundSize[1] || backgroundWidth;\n      if (isPercentage(backgroundWidth)) {\n        backgroundWidth = container.width * parseFloat(backgroundWidth) / 100;\n      } else if (backgroundWidth != 'auto') {\n        backgroundWidth = parseFloat(backgroundWidth);\n      }\n      if (isPercentage(backgroundHeight)) {\n        backgroundHeight = container.height * parseFloat(backgroundHeight) / 100;\n      } else if (backgroundHeight != 'auto') {\n        backgroundHeight = parseFloat(backgroundHeight);\n      }\n      if (backgroundWidth == 'auto' && backgroundHeight == 'auto') {\n        backgroundWidth = this.backgroundWidth;\n        backgroundHeight = this.backgroundHeight;\n      } else {\n        if (backgroundWidth == 'auto') {\n          backgroundWidth = this.backgroundWidth * (backgroundHeight / this.backgroundHeight);\n        }\n        if (backgroundHeight == 'auto') {\n          backgroundHeight = this.backgroundHeight * (backgroundWidth / this.backgroundWidth);\n        }\n      }\n    }\n\n    // Compute backgroundX and backgroundY in page coordinates\n    var backgroundX = backgroundPosition[0];\n    var backgroundY = backgroundPosition[1];\n    if (isPercentage(backgroundX)) {\n      backgroundX = container.left + (container.width - backgroundWidth) * parseFloat(backgroundX) / 100;\n    } else {\n      backgroundX = container.left + parseFloat(backgroundX);\n    }\n    if (isPercentage(backgroundY)) {\n      backgroundY = container.top + (container.height - backgroundHeight) * parseFloat(backgroundY) / 100;\n    } else {\n      backgroundY = container.top + parseFloat(backgroundY);\n    }\n    var elementOffset = this.$el.offset();\n    this.renderProgram.uniforms.topLeft = new Float32Array([(elementOffset.left - backgroundX) / backgroundWidth, (elementOffset.top - backgroundY) / backgroundHeight]);\n    this.renderProgram.uniforms.bottomRight = new Float32Array([this.renderProgram.uniforms.topLeft[0] + this.$el.innerWidth() / backgroundWidth, this.renderProgram.uniforms.topLeft[1] + this.$el.innerHeight() / backgroundHeight]);\n    var maxSide = Math.max(this.canvas.width, this.canvas.height);\n    this.renderProgram.uniforms.containerRatio = new Float32Array([this.canvas.width / maxSide, this.canvas.height / maxSide]);\n  },\n  initShaders: function () {\n    var vertexShader = ['attribute vec2 vertex;', 'varying vec2 coord;', 'void main() {', 'coord = vertex * 0.5 + 0.5;', 'gl_Position = vec4(vertex, 0.0, 1.0);', '}'].join('\\n');\n    this.dropProgram = createProgram(vertexShader, ['precision highp float;', 'const float PI = 3.141592653589793;', 'uniform sampler2D texture;', 'uniform vec2 center;', 'uniform float radius;', 'uniform float strength;', 'varying vec2 coord;', 'void main() {', 'vec4 info = texture2D(texture, coord);', 'float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);', 'drop = 0.5 - cos(drop * PI) * 0.5;', 'info.r += drop * strength;', 'gl_FragColor = info;', '}'].join('\\n'));\n    this.updateProgram = createProgram(vertexShader, ['precision highp float;', 'uniform sampler2D texture;', 'uniform vec2 delta;', 'varying vec2 coord;', 'void main() {', 'vec4 info = texture2D(texture, coord);', 'vec2 dx = vec2(delta.x, 0.0);', 'vec2 dy = vec2(0.0, delta.y);', 'float average = (', 'texture2D(texture, coord - dx).r +', 'texture2D(texture, coord - dy).r +', 'texture2D(texture, coord + dx).r +', 'texture2D(texture, coord + dy).r', ') * 0.25;', 'info.g += (average - info.r) * 2.0;', 'info.g *= 0.995;', 'info.r += info.g;', 'gl_FragColor = info;', '}'].join('\\n'));\n    gl.uniform2fv(this.updateProgram.locations.delta, this.textureDelta);\n    this.renderProgram = createProgram(['precision highp float;', 'attribute vec2 vertex;', 'uniform vec2 topLeft;', 'uniform vec2 bottomRight;', 'uniform vec2 containerRatio;', 'varying vec2 ripplesCoord;', 'varying vec2 backgroundCoord;', 'void main() {', 'backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);', 'backgroundCoord.y = 1.0 - backgroundCoord.y;', 'ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;', 'gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);', '}'].join('\\n'), ['precision highp float;', 'uniform sampler2D samplerBackground;', 'uniform sampler2D samplerRipples;', 'uniform vec2 delta;', 'uniform float perturbance;', 'varying vec2 ripplesCoord;', 'varying vec2 backgroundCoord;', 'void main() {', 'float height = texture2D(samplerRipples, ripplesCoord).r;', 'float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;', 'float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;', 'vec3 dx = vec3(delta.x, heightX - height, 0.0);', 'vec3 dy = vec3(0.0, heightY - height, delta.y);', 'vec2 offset = -normalize(cross(dy, dx)).xz;', 'float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);', 'gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;', '}'].join('\\n'));\n    gl.uniform2fv(this.renderProgram.locations.delta, this.textureDelta);\n  },\n  initTexture: function () {\n    this.backgroundTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n  },\n  setTransparentTexture: function () {\n    gl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, transparentPixels);\n  },\n  hideCssBackground: function () {\n    // Check whether we're changing inline CSS or overriding a global CSS rule.\n    var inlineCss = this.$el[0].style.backgroundImage;\n    if (inlineCss == 'none') {\n      return;\n    }\n    this.originalInlineCss = inlineCss;\n    this.originalCssBackgroundImage = this.$el.css('backgroundImage');\n    this.$el.css('backgroundImage', 'none');\n  },\n  restoreCssBackground: function () {\n    // Restore background by either changing the inline CSS rule to what it was, or\n    // simply remove the inline CSS rule if it never was inlined.\n    this.$el.css('backgroundImage', this.originalInlineCss || '');\n  },\n  dropAtPointer: function (pointer, radius, strength) {\n    var borderLeft = parseInt(this.$el.css('border-left-width')) || 0,\n      borderTop = parseInt(this.$el.css('border-top-width')) || 0;\n    this.drop(pointer.pageX - this.$el.offset().left - borderLeft, pointer.pageY - this.$el.offset().top - borderTop, radius, strength);\n  },\n  /**\n   *  Public methods\n   */\n  drop: _s4(function (x, y, radius, strength) {\n    _s4();\n    gl = this.context;\n    var elWidth = this.$el.innerWidth();\n    var elHeight = this.$el.innerHeight();\n    var longestSide = Math.max(elWidth, elHeight);\n    radius = radius / longestSide;\n    var dropPosition = new Float32Array([(2 * x - elWidth) / longestSide, (elHeight - 2 * y) / longestSide]);\n    gl.viewport(0, 0, this.resolution, this.resolution);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n    bindTexture(this.textures[this.bufferReadIndex]);\n    gl.useProgram(this.dropProgram.id);\n    gl.uniform2fv(this.dropProgram.locations.center, dropPosition);\n    gl.uniform1f(this.dropProgram.locations.radius, radius);\n    gl.uniform1f(this.dropProgram.locations.strength, strength);\n    this.drawQuad();\n    this.swapBufferIndices();\n  }, \"ZdQBZ3rq7bWAAMQq6hlVCmYF0jM=\", false, function () {\n    return [gl.useProgram];\n  }),\n  updateSize: function () {\n    var newWidth = this.$el.innerWidth(),\n      newHeight = this.$el.innerHeight();\n    if (newWidth != this.canvas.width || newHeight != this.canvas.height) {\n      this.canvas.width = newWidth;\n      this.canvas.height = newHeight;\n    }\n  },\n  destroy: function () {\n    this.$el.off('.ripples').removeClass('jquery-ripples').removeData('ripples');\n\n    // Make sure the last used context is garbage-collected\n    gl = null;\n    $(window).off('resize', this.updateSize);\n    this.$canvas.remove();\n    this.restoreCssBackground();\n    this.destroyed = true;\n  },\n  show: function () {\n    this.visible = true;\n    this.$canvas.show();\n    this.hideCssBackground();\n  },\n  hide: function () {\n    this.visible = false;\n    this.$canvas.hide();\n    this.restoreCssBackground();\n  },\n  pause: function () {\n    this.running = false;\n  },\n  play: function () {\n    this.running = true;\n  },\n  set: function (property, value) {\n    switch (property) {\n      case 'dropRadius':\n      case 'perturbance':\n      case 'interactive':\n      case 'crossOrigin':\n        this[property] = value;\n        break;\n      case 'imageUrl':\n        this.imageUrl = value;\n        this.loadImage();\n        break;\n    }\n  }\n};\n\n// RIPPLES PLUGIN DEFINITION\n// ==========================\n\nvar old = $.fn.ripples;\n$.fn.ripples = function (option) {\n  if (!config) {\n    throw new Error('Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.');\n  }\n  var args = arguments.length > 1 ? Array.prototype.slice.call(arguments, 1) : undefined;\n  return this.each(function () {\n    var $this = $(this),\n      data = $this.data('ripples'),\n      options = $.extend({}, Ripples.DEFAULTS, $this.data(), typeof option == 'object' && option);\n    if (!data && typeof option == 'string') {\n      return;\n    }\n    if (!data) {\n      $this.data('ripples', data = new Ripples(this, options));\n    } else if (typeof option == 'string') {\n      Ripples.prototype[option].apply(data, args);\n    }\n  });\n};\n$.fn.ripples.Constructor = Ripples;\n\n// RIPPLES NO CONFLICT\n// ====================\n\n$.fn.ripples.noConflict = function () {\n  $.fn.ripples = old;\n  return this;\n};\nvar _c;\n$RefreshReg$(_c, \"Ripples\");","map":{"version":3,"names":["$","gl","$window","window","isPercentage","str","length","loadConfig","canvas","document","createElement","getContext","extensions","forEach","name","extension","getExtension","OES_texture_float","configs","createConfig","type","glType","arrayType","nameLinear","linearSupport","configExtensions","push","FLOAT","Float32Array","OES_texture_half_float","HALF_FLOAT_OES","texture","createTexture","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","config","i","texImage2D","RGBA","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","createImageData","width","height","ImageData","e","translateBackgroundPosition","value","parts","split","map","part","createProgram","vertexSource","fragmentSource","uniformValues","compileSource","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","program","id","attachShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniforms","locations","useProgram","enableVertexAttribArray","match","regex","shaderCode","exec","getUniformLocation","unit","activeTexture","TEXTURE0","extractUrl","urlMatch","isDataUri","url","transparentPixels","prepend","Ripples","el","options","that","$el","interactive","resolution","textureDelta","perturbance","dropRadius","crossOrigin","imageUrl","innerWidth","innerHeight","$canvas","css","position","left","top","right","bottom","zIndex","addClass","append","context","updateSize","bind","on","textures","framebuffers","bufferWriteIndex","bufferReadIndex","textureData","LINEAR","quad","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","initShaders","initTexture","setTransparentTexture","loadImage","clearColor","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","visible","running","inited","destroyed","setupPointerEvents","step","requestAnimationFrame","DEFAULTS","prototype","pointerEventsEnabled","dropAtPointer","pointer","big","touches","originalEvent","changedTouches","newImageSource","originalCssBackgroundImage","imageSource","image","Image","onload","isPowerOfTwo","x","wrapping","REPEAT","backgroundTexture","UNSIGNED_BYTE","backgroundWidth","backgroundHeight","hideCssBackground","onerror","src","computeTextureBoundaries","update","render","drawQuad","vertexAttribPointer","drawArrays","TRIANGLE_FAN","viewport","enable","BLEND","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","renderProgram","uniform1f","uniform2fv","topLeft","bottomRight","containerRatio","uniform1i","samplerBackground","samplerRipples","disable","updateProgram","swapBufferIndices","backgroundSize","backgroundAttachment","backgroundPosition","container","pageXOffset","pageYOffset","offset","scale","Math","max","min","parseFloat","backgroundX","backgroundY","elementOffset","maxSide","vertexShader","join","dropProgram","delta","pixelStorei","UNPACK_FLIP_Y_WEBGL","inlineCss","style","backgroundImage","originalInlineCss","restoreCssBackground","radius","strength","borderLeft","parseInt","borderTop","drop","pageX","pageY","y","elWidth","elHeight","longestSide","dropPosition","center","newWidth","newHeight","destroy","off","removeClass","removeData","remove","show","hide","pause","play","set","property","old","fn","ripples","option","args","arguments","Array","slice","call","undefined","each","$this","data","extend","apply","Constructor","noConflict"],"sources":["/Users/michael/Desktop/programs/sublair_files/sublair/src/pages/Main.js"],"sourcesContent":["import $ from 'jquery'\n\nvar gl;\nvar $window = $(window); // There is only one window, so why not cache the jQuery-wrapped window?\n\nfunction isPercentage(str) {\n\treturn str[str.length - 1] == '%';\n}\n\n/**\n *  Load a configuration of GL settings which the browser supports.\n *  For example:\n *  - not all browsers support WebGL\n *  - not all browsers support floating point textures\n *  - not all browsers support linear filtering for floating point textures\n *  - not all browsers support rendering to floating point textures\n *  - some browsers *do* support rendering to half-floating point textures instead.\n */\nfunction loadConfig() {\n\tvar canvas = document.createElement('canvas');\n\tgl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n\tif (!gl) {\n\t\t// Browser does not support WebGL.\n\t\treturn null;\n\t}\n\n\t// Load extensions\n\tvar extensions = {};\n\t[\n\t\t'OES_texture_float',\n\t\t'OES_texture_half_float',\n\t\t'OES_texture_float_linear',\n\t\t'OES_texture_half_float_linear'\n\t].forEach(function(name) {\n\t\tvar extension = gl.getExtension(name);\n\t\tif (extension) {\n\t\t\textensions[name] = extension;\n\t\t}\n\t});\n\n\t// If no floating point extensions are supported we can bail out early.\n\tif (!extensions.OES_texture_float) {\n\t\treturn null;\n\t}\n\n\tvar configs = [];\n\n\tfunction createConfig(type, glType, arrayType) {\n\t\tvar name = 'OES_texture_' + type,\n\t\t\t\tnameLinear = name + '_linear',\n\t\t\t\tlinearSupport = nameLinear in extensions,\n\t\t\t\tconfigExtensions = [name];\n\n\t\tif (linearSupport) {\n\t\t\tconfigExtensions.push(nameLinear);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: glType,\n\t\t\tarrayType: arrayType,\n\t\t\tlinearSupport: linearSupport,\n\t\t\textensions: configExtensions\n\t\t};\n\t}\n\n\tconfigs.push(\n\t\tcreateConfig('float', gl.FLOAT, Float32Array)\n\t);\n\n\tif (extensions.OES_texture_half_float) {\n\t\tconfigs.push(\n\t\t\t// Array type should be Uint16Array, but at least on iOS that breaks. In that case we\n\t\t\t// just initialize the textures with data=null, instead of data=new Uint16Array(...).\n\t\t\t// This makes initialization a tad slower, but it's still negligible.\n\t\t\tcreateConfig('half_float', extensions.OES_texture_half_float.HALF_FLOAT_OES, null)\n\t\t);\n\t}\n\n\t// Setup the texture and framebuffer\n\tvar texture = gl.createTexture();\n\tvar framebuffer = gl.createFramebuffer();\n\n\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t// Check for each supported texture type if rendering to it is supported\n\tvar config = null;\n\n\tfor (var i = 0; i < configs.length; i++) {\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 32, 32, 0, gl.RGBA, configs[i].type, null);\n\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\t\tif (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\n\t\t\tconfig = configs[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn config;\n}\n\nfunction createImageData(width, height) {\n\ttry {\n\t\treturn new ImageData(width, height);\n\t}\n\tcatch (e) {\n\t\t// Fallback for IE\n\t\tvar canvas = document.createElement('canvas');\n\t\treturn canvas.getContext('2d').createImageData(width, height);\n\t}\n}\n\nfunction translateBackgroundPosition(value) {\n\tvar parts = value.split(' ');\n\n\tif (parts.length === 1) {\n\t\tswitch (value) {\n\t\t\tcase 'center':\n\t\t\t\treturn ['50%', '50%'];\n\t\t\tcase 'top':\n\t\t\t\treturn ['50%', '0'];\n\t\t\tcase 'bottom':\n\t\t\t\treturn ['50%', '100%'];\n\t\t\tcase 'left':\n\t\t\t\treturn ['0', '50%'];\n\t\t\tcase 'right':\n\t\t\t\treturn ['100%', '50%'];\n\t\t\tdefault:\n\t\t\t\treturn [value, '50%'];\n\t\t}\n\t}\n\telse {\n\t\treturn parts.map(function(part) {\n\t\t\tswitch (value) {\n\t\t\t\tcase 'center':\n\t\t\t\t\treturn '50%';\n\t\t\t\tcase 'top':\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn '0';\n\t\t\t\tcase 'right':\n\t\t\t\tcase 'bottom':\n\t\t\t\t\treturn '100%';\n\t\t\t\tdefault:\n\t\t\t\t\treturn part;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction createProgram(vertexSource, fragmentSource, uniformValues) {\n\tfunction compileSource(type, source) {\n\t\tvar shader = gl.createShader(type);\n\t\tgl.shaderSource(shader, source);\n\t\tgl.compileShader(shader);\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\t\tthrow new Error('compile error: ' + gl.getShaderInfoLog(shader));\n\t\t}\n\t\treturn shader;\n\t}\n\n\tvar program = {};\n\n\tprogram.id = gl.createProgram();\n\tgl.attachShader(program.id, compileSource(gl.VERTEX_SHADER, vertexSource));\n\tgl.attachShader(program.id, compileSource(gl.FRAGMENT_SHADER, fragmentSource));\n\tgl.linkProgram(program.id);\n\tif (!gl.getProgramParameter(program.id, gl.LINK_STATUS)) {\n\t\tthrow new Error('link error: ' + gl.getProgramInfoLog(program.id));\n\t}\n\n\t// Fetch the uniform and attribute locations\n\tprogram.uniforms = {};\n\tprogram.locations = {};\n\tgl.useProgram(program.id);\n\tgl.enableVertexAttribArray(0);\n\tvar match, name, regex = /uniform (\\w+) (\\w+)/g, shaderCode = vertexSource + fragmentSource;\n\twhile ((match = regex.exec(shaderCode)) != null) {\n\t\tname = match[2];\n\t\tprogram.locations[name] = gl.getUniformLocation(program.id, name);\n\t}\n\n\treturn program;\n}\n\nfunction bindTexture(texture, unit) {\n\tgl.activeTexture(gl.TEXTURE0 + (unit || 0));\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\n}\n\nfunction extractUrl(value) {\n\tvar urlMatch = /url\\([\"']?([^\"']*)[\"']?\\)/.exec(value);\n\tif (urlMatch == null) {\n\t\treturn null;\n\t}\n\n\treturn urlMatch[1];\n}\n\nfunction isDataUri(url) {\n\treturn url.match(/^data:/);\n}\n\nvar config = loadConfig();\nvar transparentPixels = createImageData(32, 32);\n\n// Extend the css\n$('head').prepend('<style>.jquery-ripples { position: relative; z-index: 0; }</style>');\n\n// RIPPLES CLASS DEFINITION\n// =========================\n\nvar Ripples = function (el, options) {\n\tvar that = this;\n\n\tthis.$el = $(el);\n\n\t// Init properties from options\n\tthis.interactive = options.interactive;\n\tthis.resolution = options.resolution;\n\tthis.textureDelta = new Float32Array([1 / this.resolution, 1 / this.resolution]);\n\n\tthis.perturbance = options.perturbance;\n\tthis.dropRadius = options.dropRadius;\n\n\tthis.crossOrigin = options.crossOrigin;\n\tthis.imageUrl = options.imageUrl;\n\n\t// Init WebGL canvas\n\tvar canvas = document.createElement('canvas');\n\tcanvas.width = this.$el.innerWidth();\n\tcanvas.height = this.$el.innerHeight();\n\tthis.canvas = canvas;\n\tthis.$canvas = $(canvas);\n\tthis.$canvas.css({\n\t\tposition: 'absolute',\n\t\tleft: 0,\n\t\ttop: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t\tzIndex: -1\n\t});\n\n\tthis.$el.addClass('jquery-ripples').append(canvas);\n\tthis.context = gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n\t// Load extensions\n\tconfig.extensions.forEach(function(name) {\n\t\tgl.getExtension(name);\n\t});\n\n\t// Auto-resize when window size changes.\n\tthis.updateSize = this.updateSize.bind(this)\n\t$(window).on('resize', this.updateSize);\n\n\t// Init rendertargets for ripple data.\n\tthis.textures = [];\n\tthis.framebuffers = [];\n\tthis.bufferWriteIndex = 0;\n\tthis.bufferReadIndex = 1;\n\n\tvar arrayType = config.arrayType\n\tvar textureData = arrayType ? new arrayType(this.resolution * this.resolution * 4) : null;\n\n\tfor (var i = 0; i < 2; i++) {\n\t\tvar texture = gl.createTexture();\n\t\tvar framebuffer = gl.createFramebuffer();\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.resolution, this.resolution, 0, gl.RGBA, config.type, textureData);\n\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\n\t\tthis.textures.push(texture);\n\t\tthis.framebuffers.push(framebuffer);\n\t}\n\n\t// Init GL stuff\n\tthis.quad = gl.createBuffer();\n\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n\t\t-1, -1,\n\t\t+1, -1,\n\t\t+1, +1,\n\t\t-1, +1\n\t]), gl.STATIC_DRAW);\n\n\tthis.initShaders();\n\tthis.initTexture();\n\tthis.setTransparentTexture();\n\n\t// Load the image either from the options or CSS rules\n\tthis.loadImage();\n\n\t// Set correct clear color and blend mode (regular alpha blending)\n\tgl.clearColor(0, 0, 0, 0);\n\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n\t// Plugin is successfully initialized!\n\tthis.visible = true;\n\tthis.running = true;\n\tthis.inited = true;\n\tthis.destroyed = false;\n\n\tthis.setupPointerEvents();\n\n\t// Init animation\n\tfunction step() {\n\t\tif (!that.destroyed) {\n\t\t\tthat.step();\n\n\t\t\trequestAnimationFrame(step);\n\t\t}\n\t}\n\n\trequestAnimationFrame(step);\n};\n\nRipples.DEFAULTS = {\n\timageUrl: null,\n\tresolution: 256,\n\tdropRadius: 20,\n\tperturbance: 0.03,\n\tinteractive: true,\n\tcrossOrigin: ''\n};\n\nRipples.prototype = {\n\n\t// Set up pointer (mouse + touch) events\n\tsetupPointerEvents: function() {\n\t\tvar that = this;\n\n\t\tfunction pointerEventsEnabled() {\n\t\t\treturn that.visible && that.running && that.interactive;\n\t\t}\n\n\t\tfunction dropAtPointer(pointer, big) {\n\t\t\tif (pointerEventsEnabled()) {\n\t\t\t\tthat.dropAtPointer(\n\t\t\t\t\tpointer,\n\t\t\t\t\tthat.dropRadius * (big ? 1.5 : 1),\n\t\t\t\t\t(big ? 0.14 : 0.01)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Start listening to pointer events\n\t\tthis.$el\n\n\t\t\t// Create regular, small ripples for mouse move and touch events...\n\t\t\t.on('mousemove.ripples', function(e) {\n\t\t\t\tdropAtPointer(e);\n\t\t\t})\n\t\t\t.on('touchmove.ripples touchstart.ripples', function(e) {\n\t\t\t\tvar touches = e.originalEvent.changedTouches;\n\t\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\t\tdropAtPointer(touches[i]);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// ...and only a big ripple on mouse down events.\n\t\t\t.on('mousedown.ripples', function(e) {\n\t\t\t\tdropAtPointer(e, true);\n\t\t\t});\n\t},\n\n\t// Load the image either from the options or the element's CSS rules.\n\tloadImage: function() {\n\t\tvar that = this;\n\n\t\tgl = this.context;\n\n\t\tvar newImageSource = this.imageUrl ||\n\t\t\textractUrl(this.originalCssBackgroundImage) ||\n\t\t\textractUrl(this.$el.css('backgroundImage'));\n\n\t\t// If image source is unchanged, don't reload it.\n\t\tif (newImageSource == this.imageSource) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.imageSource = newImageSource;\n\n\t\t// Falsy source means no background.\n\t\tif (!this.imageSource) {\n\t\t\tthis.setTransparentTexture();\n\t\t\treturn;\n\t\t}\n\n\t\t// Load the texture from a new image.\n\t\tvar image = new Image;\n\t\timage.onload = function() {\n\t\t\tgl = that.context;\n\n\t\t\t// Only textures with dimensions of powers of two can have repeat wrapping.\n\t\t\tfunction isPowerOfTwo(x) {\n\t\t\t\treturn (x & (x - 1)) == 0;\n\t\t\t}\n\n\t\t\tvar wrapping = (isPowerOfTwo(image.width) && isPowerOfTwo(image.height)) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\n\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, that.backgroundTexture);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapping);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapping);\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n\n\t\t\tthat.backgroundWidth = image.width;\n\t\t\tthat.backgroundHeight = image.height;\n\n\t\t\t// Hide the background that we're replacing.\n\t\t\tthat.hideCssBackground();\n\t\t};\n\n\t\t// Fall back to a transparent texture when loading the image failed.\n\t\timage.onerror = function() {\n\t\t\tgl = that.context;\n\n\t\t\tthat.setTransparentTexture();\n\t\t};\n\n\t\t// Disable CORS when the image source is a data URI.\n\t\timage.crossOrigin = isDataUri(this.imageSource) ? null : this.crossOrigin;\n\n\t\timage.src = this.imageSource;\n\t},\n\n\tstep: function() {\n\t\tgl = this.context;\n\n\t\tif (!this.visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.computeTextureBoundaries();\n\n\t\tif (this.running) {\n\t\t\tthis.update();\n\t\t}\n\n\t\tthis.render();\n\t},\n\n\tdrawQuad: function() {\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n\t\tgl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n\t\tgl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\n\t},\n\n\trender: function() {\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t\tgl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n\t\tgl.enable(gl.BLEND);\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n\t\tgl.useProgram(this.renderProgram.id);\n\n\t\tbindTexture(this.backgroundTexture, 0);\n\t\tbindTexture(this.textures[0], 1);\n\n\t\tgl.uniform1f(this.renderProgram.locations.perturbance, this.perturbance);\n\t\tgl.uniform2fv(this.renderProgram.locations.topLeft, this.renderProgram.uniforms.topLeft);\n\t\tgl.uniform2fv(this.renderProgram.locations.bottomRight, this.renderProgram.uniforms.bottomRight);\n\t\tgl.uniform2fv(this.renderProgram.locations.containerRatio, this.renderProgram.uniforms.containerRatio);\n\t\tgl.uniform1i(this.renderProgram.locations.samplerBackground, 0);\n\t\tgl.uniform1i(this.renderProgram.locations.samplerRipples, 1);\n\n\t\tthis.drawQuad();\n\t\tgl.disable(gl.BLEND);\n\t},\n\n\tupdate: function() {\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\n\t\tgl.useProgram(this.updateProgram.id);\n\n\t\tthis.drawQuad();\n\n\t\tthis.swapBufferIndices();\n\t},\n\n\tswapBufferIndices: function() {\n\t\tthis.bufferWriteIndex = 1 - this.bufferWriteIndex;\n\t\tthis.bufferReadIndex = 1 - this.bufferReadIndex;\n\t},\n\n\tcomputeTextureBoundaries: function() {\n\t\tvar backgroundSize = this.$el.css('background-size');\n\t\tvar backgroundAttachment = this.$el.css('background-attachment');\n\t\tvar backgroundPosition = translateBackgroundPosition(this.$el.css('background-position'));\n\n\t\t// Here the 'container' is the element which the background adapts to\n\t\t// (either the chrome window or some element, depending on attachment)\n\t\tvar container;\n\t\tif (backgroundAttachment == 'fixed') {\n\t\t\tcontainer = { left: window.pageXOffset, top: window.pageYOffset };\n\t\t\tcontainer.width = $window.width();\n\t\t\tcontainer.height = $window.height();\n\t\t}\n\t\telse {\n\t\t\tcontainer = this.$el.offset();\n\t\t\tcontainer.width = this.$el.innerWidth();\n\t\t\tcontainer.height = this.$el.innerHeight();\n\t\t}\n\n\t\t// TODO: background-clip\n\t\tif (backgroundSize == 'cover') {\n\t\t\tvar scale = Math.max(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\n\t\t}\n\t\telse if (backgroundSize == 'contain') {\n\t\t\tvar scale = Math.min(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\n\t\t}\n\t\telse {\n\t\t\tbackgroundSize = backgroundSize.split(' ');\n\t\t\tvar backgroundWidth = backgroundSize[0] || '';\n\t\t\tvar backgroundHeight = backgroundSize[1] || backgroundWidth;\n\n\t\t\tif (isPercentage(backgroundWidth)) {\n\t\t\t\tbackgroundWidth = container.width * parseFloat(backgroundWidth) / 100;\n\t\t\t}\n\t\t\telse if (backgroundWidth != 'auto') {\n\t\t\t\tbackgroundWidth = parseFloat(backgroundWidth);\n\t\t\t}\n\n\t\t\tif (isPercentage(backgroundHeight)) {\n\t\t\t\tbackgroundHeight = container.height * parseFloat(backgroundHeight) / 100;\n\t\t\t}\n\t\t\telse if (backgroundHeight != 'auto') {\n\t\t\t\tbackgroundHeight = parseFloat(backgroundHeight);\n\t\t\t}\n\n\t\t\tif (backgroundWidth == 'auto' && backgroundHeight == 'auto') {\n\t\t\t\tbackgroundWidth = this.backgroundWidth;\n\t\t\t\tbackgroundHeight = this.backgroundHeight;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (backgroundWidth == 'auto') {\n\t\t\t\t\tbackgroundWidth = this.backgroundWidth * (backgroundHeight / this.backgroundHeight);\n\t\t\t\t}\n\n\t\t\t\tif (backgroundHeight == 'auto') {\n\t\t\t\t\tbackgroundHeight = this.backgroundHeight * (backgroundWidth / this.backgroundWidth);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Compute backgroundX and backgroundY in page coordinates\n\t\tvar backgroundX = backgroundPosition[0];\n\t\tvar backgroundY = backgroundPosition[1];\n\n\t\tif (isPercentage(backgroundX)) {\n\t\t\tbackgroundX = container.left + (container.width - backgroundWidth) * parseFloat(backgroundX) / 100;\n\t\t}\n\t\telse {\n\t\t\tbackgroundX = container.left + parseFloat(backgroundX);\n\t\t}\n\n\t\tif (isPercentage(backgroundY)) {\n\t\t\tbackgroundY = container.top + (container.height - backgroundHeight) * parseFloat(backgroundY) / 100;\n\t\t}\n\t\telse {\n\t\t\tbackgroundY = container.top + parseFloat(backgroundY);\n\t\t}\n\n\t\tvar elementOffset = this.$el.offset();\n\n\t\tthis.renderProgram.uniforms.topLeft = new Float32Array([\n\t\t\t(elementOffset.left - backgroundX) / backgroundWidth,\n\t\t\t(elementOffset.top - backgroundY) / backgroundHeight\n\t\t]);\n\t\tthis.renderProgram.uniforms.bottomRight = new Float32Array([\n\t\t\tthis.renderProgram.uniforms.topLeft[0] + this.$el.innerWidth() / backgroundWidth,\n\t\t\tthis.renderProgram.uniforms.topLeft[1] + this.$el.innerHeight() / backgroundHeight\n\t\t]);\n\n\t\tvar maxSide = Math.max(this.canvas.width, this.canvas.height);\n\n\t\tthis.renderProgram.uniforms.containerRatio = new Float32Array([\n\t\t\tthis.canvas.width / maxSide,\n\t\t\tthis.canvas.height / maxSide\n\t\t]);\n\t},\n\n\tinitShaders: function() {\n\t\tvar vertexShader = [\n\t\t\t'attribute vec2 vertex;',\n\t\t\t'varying vec2 coord;',\n\t\t\t'void main() {',\n\t\t\t\t'coord = vertex * 0.5 + 0.5;',\n\t\t\t\t'gl_Position = vec4(vertex, 0.0, 1.0);',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tthis.dropProgram = createProgram(vertexShader, [\n\t\t\t'precision highp float;',\n\n\t\t\t'const float PI = 3.141592653589793;',\n\t\t\t'uniform sampler2D texture;',\n\t\t\t'uniform vec2 center;',\n\t\t\t'uniform float radius;',\n\t\t\t'uniform float strength;',\n\n\t\t\t'varying vec2 coord;',\n\n\t\t\t'void main() {',\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\n\n\t\t\t\t'float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);',\n\t\t\t\t'drop = 0.5 - cos(drop * PI) * 0.5;',\n\n\t\t\t\t'info.r += drop * strength;',\n\n\t\t\t\t'gl_FragColor = info;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\n\t\tthis.updateProgram = createProgram(vertexShader, [\n\t\t\t'precision highp float;',\n\n\t\t\t'uniform sampler2D texture;',\n\t\t\t'uniform vec2 delta;',\n\n\t\t\t'varying vec2 coord;',\n\n\t\t\t'void main() {',\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\n\n\t\t\t\t'vec2 dx = vec2(delta.x, 0.0);',\n\t\t\t\t'vec2 dy = vec2(0.0, delta.y);',\n\n\t\t\t\t'float average = (',\n\t\t\t\t\t'texture2D(texture, coord - dx).r +',\n\t\t\t\t\t'texture2D(texture, coord - dy).r +',\n\t\t\t\t\t'texture2D(texture, coord + dx).r +',\n\t\t\t\t\t'texture2D(texture, coord + dy).r',\n\t\t\t\t') * 0.25;',\n\n\t\t\t\t'info.g += (average - info.r) * 2.0;',\n\t\t\t\t'info.g *= 0.995;',\n\t\t\t\t'info.r += info.g;',\n\n\t\t\t\t'gl_FragColor = info;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tgl.uniform2fv(this.updateProgram.locations.delta, this.textureDelta);\n\n\t\tthis.renderProgram = createProgram([\n\t\t\t'precision highp float;',\n\n\t\t\t'attribute vec2 vertex;',\n\t\t\t'uniform vec2 topLeft;',\n\t\t\t'uniform vec2 bottomRight;',\n\t\t\t'uniform vec2 containerRatio;',\n\t\t\t'varying vec2 ripplesCoord;',\n\t\t\t'varying vec2 backgroundCoord;',\n\t\t\t'void main() {',\n\t\t\t\t'backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);',\n\t\t\t\t'backgroundCoord.y = 1.0 - backgroundCoord.y;',\n\t\t\t\t'ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;',\n\t\t\t\t'gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);',\n\t\t\t'}'\n\t\t].join('\\n'), [\n\t\t\t'precision highp float;',\n\n\t\t\t'uniform sampler2D samplerBackground;',\n\t\t\t'uniform sampler2D samplerRipples;',\n\t\t\t'uniform vec2 delta;',\n\n\t\t\t'uniform float perturbance;',\n\t\t\t'varying vec2 ripplesCoord;',\n\t\t\t'varying vec2 backgroundCoord;',\n\n\t\t\t'void main() {',\n\t\t\t\t'float height = texture2D(samplerRipples, ripplesCoord).r;',\n\t\t\t\t'float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;',\n\t\t\t\t'float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;',\n\t\t\t\t'vec3 dx = vec3(delta.x, heightX - height, 0.0);',\n\t\t\t\t'vec3 dy = vec3(0.0, heightY - height, delta.y);',\n\t\t\t\t'vec2 offset = -normalize(cross(dy, dx)).xz;',\n\t\t\t\t'float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);',\n\t\t\t\t'gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tgl.uniform2fv(this.renderProgram.locations.delta, this.textureDelta);\n\t},\n\n\tinitTexture: function() {\n\t\tthis.backgroundTexture = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n\t\tgl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t},\n\n\tsetTransparentTexture: function() {\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, transparentPixels);\n\t},\n\n\thideCssBackground: function() {\n\n\t\t// Check whether we're changing inline CSS or overriding a global CSS rule.\n\t\tvar inlineCss = this.$el[0].style.backgroundImage;\n\n\t\tif (inlineCss == 'none') {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.originalInlineCss = inlineCss;\n\n\t\tthis.originalCssBackgroundImage = this.$el.css('backgroundImage');\n\t\tthis.$el.css('backgroundImage', 'none');\n\t},\n\n\trestoreCssBackground: function() {\n\n\t\t// Restore background by either changing the inline CSS rule to what it was, or\n\t\t// simply remove the inline CSS rule if it never was inlined.\n\t\tthis.$el.css('backgroundImage', this.originalInlineCss || '');\n\t},\n\n\tdropAtPointer: function(pointer, radius, strength) {\n\t\tvar borderLeft = parseInt(this.$el.css('border-left-width')) || 0,\n\t\t\t\tborderTop = parseInt(this.$el.css('border-top-width')) || 0;\n\n\t\tthis.drop(\n\t\t\tpointer.pageX - this.$el.offset().left - borderLeft,\n\t\t\tpointer.pageY - this.$el.offset().top - borderTop,\n\t\t\tradius,\n\t\t\tstrength\n\t\t);\n\t},\n\n\t/**\n\t *  Public methods\n\t */\n\tdrop: function(x, y, radius, strength) {\n\t\tgl = this.context;\n\n\t\tvar elWidth = this.$el.innerWidth();\n\t\tvar elHeight = this.$el.innerHeight();\n\t\tvar longestSide = Math.max(elWidth, elHeight);\n\n\t\tradius = radius / longestSide;\n\n\t\tvar dropPosition = new Float32Array([\n\t\t\t(2 * x - elWidth) / longestSide,\n\t\t\t(elHeight - 2 * y) / longestSide\n\t\t]);\n\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\n\n\t\tgl.useProgram(this.dropProgram.id);\n\t\tgl.uniform2fv(this.dropProgram.locations.center, dropPosition);\n\t\tgl.uniform1f(this.dropProgram.locations.radius, radius);\n\t\tgl.uniform1f(this.dropProgram.locations.strength, strength);\n\n\t\tthis.drawQuad();\n\n\t\tthis.swapBufferIndices();\n\t},\n\n\tupdateSize: function() {\n\t\tvar newWidth = this.$el.innerWidth(),\n\t\t\t\tnewHeight = this.$el.innerHeight();\n\n\t\tif (newWidth != this.canvas.width || newHeight != this.canvas.height) {\n\t\t\tthis.canvas.width = newWidth;\n\t\t\tthis.canvas.height = newHeight;\n\t\t}\n\t},\n\n\tdestroy: function() {\n\t\tthis.$el\n\t\t\t.off('.ripples')\n\t\t\t.removeClass('jquery-ripples')\n\t\t\t.removeData('ripples');\n\n\t\t// Make sure the last used context is garbage-collected\n\t\tgl = null\n\n\t\t$(window).off('resize', this.updateSize);\n\n\t\tthis.$canvas.remove();\n\t\tthis.restoreCssBackground();\n\n\t\tthis.destroyed = true;\n\t},\n\n\tshow: function() {\n\t\tthis.visible = true;\n\n\t\tthis.$canvas.show();\n\t\tthis.hideCssBackground();\n\t},\n\n\thide: function() {\n\t\tthis.visible = false;\n\n\t\tthis.$canvas.hide();\n\t\tthis.restoreCssBackground();\n\t},\n\n\tpause: function() {\n\t\tthis.running = false;\n\t},\n\n\tplay: function() {\n\t\tthis.running = true;\n\t},\n\n\tset: function(property, value) {\n\t\tswitch (property) {\n\t\t\tcase 'dropRadius':\n\t\t\tcase 'perturbance':\n\t\t\tcase 'interactive':\n\t\t\tcase 'crossOrigin':\n\t\t\t\tthis[property] = value;\n\t\t\t\tbreak;\n\t\t\tcase 'imageUrl':\n\t\t\t\tthis.imageUrl = value;\n\t\t\t\tthis.loadImage();\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\n// RIPPLES PLUGIN DEFINITION\n// ==========================\n\nvar old = $.fn.ripples;\n\n$.fn.ripples = function(option) {\n\tif (!config) {\n\t\tthrow new Error('Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.');\n\t}\n\n\tvar args = (arguments.length > 1) ? Array.prototype.slice.call(arguments, 1) : undefined;\n\n\treturn this.each(function() {\n\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('ripples'),\n\t\t\t\toptions = $.extend({}, Ripples.DEFAULTS, $this.data(), typeof option == 'object' && option);\n\n\t\tif (!data && typeof option == 'string') {\n\t\t\treturn;\n\t\t}\n\t\tif (!data) {\n\t\t\t$this.data('ripples', (data = new Ripples(this, options)));\n\t\t}\n\t\telse if (typeof option == 'string') {\n\t\t\tRipples.prototype[option].apply(data, args);\n\t\t}\n\t});\n};\n\n$.fn.ripples.Constructor = Ripples;\n\n\n// RIPPLES NO CONFLICT\n// ====================\n\n$.fn.ripples.noConflict = function() {\n\t$.fn.ripples = old;\n\treturn this;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}